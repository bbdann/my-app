(this.webpackJsonppractice=this.webpackJsonppractice||[]).push([[0],{56:function(e,t,a){e.exports=a(83)},61:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(8),r=a.n(l),i=(a(61),a(113)),o=a(43),s=a(14),u="http://localhost:3001",m=a(29),d=a.n(m),p=c.a.createContext(),v=a(2),f=a(9),h=a(26),y=a(18),g=a(46),E=a(47),b=a(49),j=a(109),O=a(114),I=a(117),x=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).changeHandler=function(e){return a.setState(Object(f.a)({},e.target.name,e.target.value))},a.submitHandler=function(e){e.preventDefault();var t=a.state,n=t.title,c=t.description,l=t.city,r=t.image,i=a.props;(0,i.onSubmit)({title:n,description:c,city:l,image:r},i.clsModal)},a.state={title:e.values?e.values.title:"",description:e.values?e.values.description:"",city:e.values?e.values.city:"",image:e.values?e.values.image:""},a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,n=e.city,l=e.image,r=this.props,i=r.clsModal,o=r.values,s=void 0===o?{}:o;return c.a.createElement("form",{onSubmit:this.submitHandler},c.a.createElement(j.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center"},c.a.createElement(O.a,{id:"standard-password-input",label:"Title",type:"text",name:"title",placeholder:"Title",defaultValue:s.title||t,onChange:this.changeHandler}),c.a.createElement(O.a,{type:"text",name:"description",label:"Description",placeholder:"Title",defaultValue:s.description||a,onChange:this.changeHandler})),c.a.createElement(j.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center"},c.a.createElement(O.a,{type:"text",name:"city",label:"City",placeholder:"What city the vacancy for?",defaultValue:s.city||n,onChange:this.changeHandler}),c.a.createElement(O.a,{type:"url",name:"image",label:"image",placeholder:"Set image url",defaultValue:s.image||l,onChange:this.changeHandler})),c.a.createElement(j.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",style:{marginTop:30}},c.a.createElement(I.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"10px 0 10px 0"}},"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"),c.a.createElement(I.a,{variant:"contained",color:"secondary",style:{margin:"10px 0 10px 0"},onClick:i},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438")))}}]),t}(n.Component),C=(a(82),function(e){e.children;var t=Object(v.a)(e,["children"]),a=Object(n.useState)(!1),l=Object(s.a)(a,2),r=l[0],i=l[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(I.a,{style:{marginBottom:"15px"},variant:"contained",color:"default",onClick:function(){return i(!0)}},"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0456\u044e"),r&&c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-body"},c.a.createElement("h1",null,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0456\u044e"),c.a.createElement(x,Object.assign({clsModal:function(){return i(!1)}},t)))))}),w=function(){return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:".5rem"}},c.a.createElement("div",{className:"lds-dual-ring"}))},k=a(116),S=function(e){var t=e.vacancyId,a=e.editItem,l=Object(v.a)(e,["vacancyId","editItem"]),r=Object(n.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(I.a,{style:{marginBottom:"15px"},size:"small",variant:"contained",color:"default",onClick:function(){return u(!0)}},"Edit"),o&&c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-body"},c.a.createElement("h1",null,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0456\u044e"),c.a.createElement(x,Object.assign({clsModal:function(){return u(!1)},onSubmit:function(e,n){return a(t,e,n)}},l)))))},N=function(e){var t=e.vacancy,a=e.editItem,l=Object(n.useContext)(p).removeItem;return c.a.createElement("div",{className:"main-list"},c.a.createElement(S,{editItem:a,values:t,vacancyId:t.id}),c.a.createElement(I.a,{style:{marginBottom:"15px",float:"right"},size:"small",variant:"contained",color:"secondary",onClick:function(){return l(t.id)}},"Delete"),c.a.createElement(k.a,{component:"span",m:3},c.a.createElement("img",{src:t.image,alt:t.title,style:{float:"left"}})),c.a.createElement("br",null),c.a.createElement("span",null,"Title: ",t.title),c.a.createElement("br",null),c.a.createElement("span",null,"Description: ",t.description),c.a.createElement("br",null),c.a.createElement("span",null,"City: ",t.city),c.a.createElement("br",null))},H=function(e){var t=e.vacancys,a=e.editItem,n=Object(v.a)(e,["vacancys","editItem"]);return c.a.createElement("div",{className:"main"},t.map((function(e,t){return c.a.createElement(N,{vacancy:e,key:e.id,index:t,onChange:n.onToggle,editItem:a})})))},T=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!0),i=Object(s.a)(r,2),m=i[0],v=i[1];console.log(a),Object(n.useEffect)((function(){fetch("".concat(u,"/vacancys")).then((function(e){return e.json()})).then((function(e){l(e),v(!1)}))}),[]);return c.a.createElement(p.Provider,{value:{removeItem:function(e){d.a.delete("".concat(u,"/vacancys/")+e).then((function(t){200===t.status&&l(a.filter((function(t){return t.id!==e})))})).catch((function(e){return console.log(e)}))}}},c.a.createElement("div",{className:"wrapper"},c.a.createElement("h1",null,"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456 \u0432\u0430\u043a\u0430\u043d\u0441\u0456\u0457"),c.a.createElement(C,{onSubmit:function(e,t){var n=e;d.a.post("".concat(u,"/vacancys"),n).then((function(e){t&&(t(),l(a.concat([n])))})).catch((function(e){return console.log(e)}))}}),m&&c.a.createElement(w,null),a.length?c.a.createElement(H,{vacancys:a,editItem:function(e,t,n){d.a.put("".concat(u,"/vacancys/").concat(e),t).then((function(c){var r=a.map((function(a){return a.id===e?Object(o.a)({},a,{title:t.title,description:t.description,city:t.city,image:t.image}):a}));l(r),n&&n()})).catch((function(e){return console.log(e)}))}}):c.a.createElement("p",null,"\u0412\u0430\u043a\u0430\u043d\u0441\u0456\u0457 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456!")))};var B=function(){return c.a.createElement(i.a,null,c.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.1e3ae577.chunk.js.map